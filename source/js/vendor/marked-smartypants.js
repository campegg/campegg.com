!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).markedSmartypants={})}(this,(function(e){"use strict";const r=/<(\/?)(?:pre|code|kbd|script|math)[^>]*>/i,t=e=>{var r="[!\"#$%'()*+,-./:;<=>?@[\\]^_`{|}~]",t="[^\\ \\t\\r\\n\\[\\{\\(\\-]",l="[\\ \\t\\r\\n\\[\\{\\(\\-]",p="&#8211;|&#8212;";return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(new RegExp(`^'(?=${r}\\B)`),"&#8217;")).replace(new RegExp(`^"(?=${r}\\B)`),"&#8221;")).replace(/"'(?=\w)/,"&#8220;&#8216;")).replace(/'"(?=\w)/,"&#8216;&#8220;")).replace(/'(?=\d\d)/,"&#8217;")).replace(new RegExp(`(\\s|&nbsp;|--|&[mn]dash;|${p}|&#x201[34])'(?=\\w)`,"g"),"$1&#8216;")).replace(new RegExp(`(${t})'`,"g"),"$1&#8217;")).replace(new RegExp(`(${l}?)'(?=\\s|s\\b)`,"g"),"$1&#8217;")).replace(/'/g,"&#8216;")).replace(new RegExp(`(\\s|&nbsp;|--|&[mn]dash;|${p}|&#x201[34])"(?=\\w)`,"g"),"$1&#8220;")).replace(new RegExp(`(${t})"`,"g"),"$1&#8221;")).replace(new RegExp(`(${l}?)"(?=\\s)`,"g"),"$1&#8221;")).replace(/"/g,"&#8220;")},l=e=>e=(e=e.replace(/``/g,"&#8220;")).replace(/''/g,"&#8221;"),p=e=>e=(e=e.replace(/`/g,"&#8216;")).replace(/'/g,"&#8217;"),n=e=>e=e.replace(/--/g,"&#8212;"),a=e=>e=(e=e.replace(/---/g,"&#8212;")).replace(/--/g,"&#8211;"),g=e=>e=(e=e.replace(/---/g,"&#8211;")).replace(/--/g,"&#8212;"),c=e=>e=(e=e.replace(/\.\.\./g,"&#8230;")).replace(/\. \. \./g,"&#8230;"),s=e=>e=(e=(e=(e=(e=(e=(e=e.replace(/&#8211;/g,"-")).replace(/&#8212;/g,"--")).replace(/&#8216;/g,"'")).replace(/&#8217;/g,"'")).replace(/&#8220;/g,'"')).replace(/&#8221;/g,'"')).replace(/&#8230;/g,"..."),i=e=>e=(e=(e=(e=(e=(e=e.replace(/\\\\/g,"&#92;")).replace(/\\"/g,"&#34;")).replace(/\\'/g,"&#39;")).replace(/\\\./g,"&#46;")).replace(/\\-/g,"&#45;")).replace(/\\`/g,"&#96;"),o=e=>{for(var r=0,t=e.length,l=[],p=/<!--[\s\S]*?-->|<\?.*?\?>|<[^>]*>/g,n=null;n=p.exec(e);){if(r<n.index){let t=["text",e.substring(r,n.index)];l.push(t)}let t=["tag",n.toString()];l.push(t),r=p.lastIndex}if(r<t){let p=["text",e.substring(r,t)];l.push(p)}return l};e.markedSmartypants=function({config:e=2}={}){return{tokenizer:{inlineText(e){const r=this.rules.inline.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0]}}},hooks:{postprocess:f=>((e="",f="1")=>{var x,u,d,h,$,w=0;if("0"===(f="number"==typeof f?f.toString():f.replace(/\s/g,"")))return e;if("1"===f)x=1,u=1,d=1,h=1;else if("2"===f)x=1,u=1,d=2,h=1;else if("3"===f)x=1,u=1,d=3,h=1;else if("-1"===f)$=1;else for(let e=0;e<f.length;e++){let r=f[e];"q"===r&&(x=1),"b"===r&&(u=1),"B"===r&&(u=2),"d"===r&&(d=1),"D"===r&&(d=2),"i"===r&&(d=3),"e"===r&&(h=1),"w"===r&&(w=1)}var b=o(e),m="",y=0,E="";for(let e=0;e<b.length;e++){let o=b[e];if("tag"===o[0]){m+=o[1];let e=r.exec(o[1]);e&&(y="/"===e[1]?0:1)}else{let e=o[1],r=e.substring(e.length-1,e.length);y||(e=i(e),w&&(e=e.replace(/$quot;/g,'"')),d&&(1===d&&(e=n(e)),2===d&&(e=a(e)),3===d&&(e=g(e))),h&&(e=c(e)),u&&(e=l(e),2===u&&(e=p(e))),x&&(e="'"===e?/\S/.test(E)?"&#8217;":"&#8216;":'"'===e?/\S/.test(E)?"&#8221;":"&#8220;":t(e)),$&&(e=s(e))),E=r,m+=e}}return m})(f,e)}}}}));
